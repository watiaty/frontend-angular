<div class="card my-5">
  <div class="card-body">
    <ng-container *ngIf="!isLoggedIn">
      <form name="form" (ngSubmit)="f.form.valid && onSubmit()" #f="ngForm" novalidate>
        <div class="form-group">
          <mat-form-field>
            <mat-label>Username</mat-label>
            <input matInput name="username" [(ngModel)]="form.username" required
                   [ngClass]="{ 'is-invalid': f.submitted && username.errors }" #username="ngModel">
          </mat-form-field>
          <ng-container *ngIf="username.errors && f.submitted">
            <div class="invalid-feedback">Username is required!</div>
          </ng-container>
        </div>
        <div class="form-group">
          <mat-form-field>
            <mat-label>Password</mat-label>
            <input type="password" matInput name="password" [(ngModel)]="form.password" required
                   [ngClass]="{ 'is-invalid': f.submitted && password.errors }" #password="ngModel">
          </mat-form-field>
          <ng-container *ngIf="password.errors && f.submitted">
            <div class="invalid-feedback">Password is required!</div>
          </ng-container>
        </div>
        <div class="form-group">
          <button mat-stroked-button>Log in</button>
        </div>
        <div class="form-group">
          <ng-container *ngIf="f.submitted && isLoginFailed">
            <div class="alert alert-danger" role="alert">
              Login failed: {{ errorMessage }}
            </div>
          </ng-container>
        </div>
      </form>
    </ng-container>
    <ng-container *ngIf="isLoggedIn">
      <div class="alert alert-success">Logged success.</div>
    </ng-container>
  </div>
</div>
